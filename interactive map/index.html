<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=\, initial-scale=1.0" />
    <meta http-equiv="X-UA-Compatible" content="ie=edge" />
    <link rel ="stylesheet" href="./assets/css/style.css">
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Lobster&family=Poppins:wght@200;300&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="https://unpkg.com/leaflet@1.8.0/dist/leaflet.css"
    integrity="sha512-hoalWLoI8r4UszCkZ5kL8vayOGVae1oxXe/2A4AO6J9+580uKHDO3JdHb7NzwwzK5xr/Fs0W40kiNHxM9vyTtQ=="
    crossorigin=""/>
    <script src="https://unpkg.com/leaflet@1.8.0/dist/leaflet.js"
    integrity="sha512-BB3hKbKWOc9Ez/TAwyWxNXeoV9c1v6FIeYiBieIWkpLjauysF18NzgR1MBNBXf8/KABdlkX68nAhlwcDFLGPCQ=="
    crossorigin=""></script>
    <script src="https://unpkg.com/@barba/core"></script>
    <script src="./assets/js/main.js"></script>
    
    <title>Map</title>
   
    <style>
        #map {
          height: 60vh;
          width: 70vw;
        }
      </style>
</head>
<body data-barba="wrapper">

    <!-- Header added automatically by JS -->
    <header></header>

    <!-- Main content of the page. The best way, use this HTML tag "main" -->
    <main id="homepage" data-barba="container" data-barba-namespace="home">
        <section id="mappy" class="app_view flex flex-center">
            <div id="map"></div>
            <script>
        
        
        
                let map = L.map('map').setView([48.8534, 2.3488] , 14);
                L.tileLayer('https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png', {
                maxZoom: 19,
                attribution: '© OpenStreetMap'
                }).addTo(map);
        
                let marker = L.marker([48.8534, 2.3488]).addTo(map);
                let clickMarker;
                let form = "<form action='#' method='post'>"+
                          "<input type='text' id='name' name= 'name' placeholder='lieu'>"+
                          "<br><br><input type='text' id='type' name= 'name' placeholder='genre'>"+
                          "<br><br><textarea id='msg' name='message' placeholder='Commentaire'></textarea>"+
                          "<br><input id='lon' name= 'longitude' placeholder='longitude' type='hidden'>"+
                          "<br><input id='lat' name= 'latitude' placeholder='latitude' type='hidden'>"+
                          "<button>Envoyer</button>"+
                          "</form>";
        
                let circle = L.circle([48.8534, 2.3488], {
                    color: 'red',
                    fillColor: '#f03',
                    fillOpacity: 0.5,
                    radius: 500
                }).addTo(map);
        
                let polygon = L.polygon([
                    [51.509, -0.08],
                    [51.503, -0.06],
                    [51.51, -0.047]
                ]).addTo(map);
        
                marker.bindPopup("Paris centre").openPopup();
                
        
                function onMapClick(e) {
               
                alert("Voici les coordonnées d'ici " + e.latlng);
        
                }
        
                map.on('click', onMapClick);
        
                let popup = L.popup();
                
        function onMapClick(e) {
        
           if (clickMarker) {
               map.removeLayer(clickMarker);
           }
            clickMarker = new L.marker(e.latlng, {draggable: true}).addTo(map);
            clickMarker.on('dragend', function(e) {
            }).bindPopup(form).openPopup();
               
        }
        
        
        map.on('click', onMapClick)
        
        
            </script>
        
        </section>
        <aside class="flex flex-column">
            <h3>Homepage</h3>
            <p>Lorem ipsum dolor sit amet elit.</p>
            <ul>
                <li class="">
                    <img src="https://via.placeholder.com/300x50" alt="Name of the starred place" width="100%">
                    <a href="#">&rightarrow; Page link</a>
                </li>
                <li class="">
                    <img src="https://via.placeholder.com/300x50" alt="Name of the starred place" width="100%">
                    <a href="#">&rightarrow; Page link</a>
                </li>
                <li class="">
                    <img src="https://via.placeholder.com/300x50" alt="Name of the starred place" width="100%">
                    <a href="#">&rightarrow; Page link</a>
                </li>
            </ul>
        </aside>
    </main>

    <!-- Footer added automatically by JS -->
    <footer></footer>
</body>
</html>